---
title: "Java ì œë„¤ë¦­"
categories:
  - java
tags:
  - generic
  - ì œë„¤ë¦­
toc: true
mermaid: true
---

## ì™œ ì œë„¤ë¦­ì„ ë°°ì›Œì•¼ í• ê¹Œìš”?

ë‹¤ìŒ ì½”ë“œë¥¼ ì‚´í´ë³´ì„¸ìš”. ì–´ë–¤ ë¬¸ì œê°€ ìˆì„ê¹Œìš”?

```java
// ì œë„¤ë¦­ ì´ì „ì˜ ì½”ë“œ
List userList = new ArrayList();
userList.add("Alice");
userList.add("Bob");
userList.add(123); // ì‹¤ìˆ˜ë¡œ ì •ìˆ˜ë¥¼ ì¶”ê°€!

for (Object obj : userList) {
    String name = (String) obj; // ëŸ°íƒ€ì„ì— ClassCastException ë°œìƒ!
    System.out.println("ì‚¬ìš©ì: " + name);
}
```

ì´ ì½”ë“œëŠ” ì»´íŒŒì¼ì€ ì„±ê³µí•˜ì§€ë§Œ ì‹¤í–‰í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. ë¬¸ì œë¥¼ ëŸ°íƒ€ì„ì— ë°œê²¬í•˜ê²Œ ë˜ì£ .

ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ë¬¸ì œë¥¼ ì»´íŒŒì¼ ì‹œì ì— ì¡ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```java
// ì œë„¤ë¦­ì„ ì‚¬ìš©í•œ ì½”ë“œ
List<String> userList = new ArrayList<>();
userList.add("Alice");
userList.add("Bob");
userList.add(123); // ì»´íŒŒì¼ ì˜¤ë¥˜! ì»´íŒŒì¼ëŸ¬ê°€ ì¦‰ì‹œ ì•Œë ¤ì¤Œ

for (String name : userList) {
    System.out.println("ì‚¬ìš©ì: " + name); // ìºìŠ¤íŒ… ë¶ˆí•„ìš”!
}
```

**í•µì‹¬ í¬ì¸íŠ¸**: ì œë„¤ë¦­ì€ ë²„ê·¸ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ì»´íŒŒì¼ ì‹œì ìœ¼ë¡œ ì˜®ê²¨ì„œ ë” ì•ˆì „í•œ ì½”ë“œë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

## Java ì œë„¤ë¦­ì´ í•´ê²°í•˜ëŠ” ì„¸ ê°€ì§€ í•µì‹¬ ë¬¸ì œ

### 1. íƒ€ì… ì•ˆì „ì„± (Type Safety)
ì»´íŒŒì¼ëŸ¬ê°€ ì˜ëª»ëœ íƒ€ì… ì‚¬ìš©ì„ ë¯¸ë¦¬ ê°ì§€í•©ë‹ˆë‹¤.

### 2. ìºìŠ¤íŒ… ì œê±° (Casting Elimination)
ëª…ì‹œì ì¸ íƒ€ì… ìºìŠ¤íŒ…ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤.

### 3. ì½”ë“œ ì¬ì‚¬ìš© (Code Reusability)
í•˜ë‚˜ì˜ ì½”ë“œë¡œ ì—¬ëŸ¬ íƒ€ì…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ì œë„¤ë¦­ ê¸°ë³¸ ë¬¸ë²•: ì°¨ê·¼ì°¨ê·¼ ë°°ì›Œë³´ê¸°

### ì œë„¤ë¦­ í´ë˜ìŠ¤ ë§Œë“¤ê¸°

ê°€ì¥ ê°„ë‹¨í•œ ì˜ˆì œë¶€í„° ì‹œì‘í•´ë³´ê² ìŠµë‹ˆë‹¤:

```java
// ì–´ë–¤ íƒ€ì…ì´ë“  ë‹´ì„ ìˆ˜ ìˆëŠ” ìƒì
public class Box<T> {
    private T item;
    
    public void put(T item) {
        this.item = item;
    }
    
    public T get() {
        return this.item;
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
Box<String> stringBox = new Box<>();
stringBox.put("ì•ˆë…•í•˜ì„¸ìš”");
String message = stringBox.get(); // ìºìŠ¤íŒ… ë¶ˆí•„ìš”!

Box<Integer> integerBox = new Box<>();
integerBox.put(42);
Integer number = integerBox.get();
```

> **ğŸ’¡Tip**: `T`ëŠ” ê´€ë¡€ì ìœ¼ë¡œ "Type"ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. `E`(Element), `K`(Key), `V`(Value) ë“±ë„ ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.

### ì œë„¤ë¦­ ë©”ì„œë“œ ì‘ì„±í•˜ê¸°

í´ë˜ìŠ¤ ì „ì²´ê°€ ì•„ë‹Œ íŠ¹ì • ë©”ì„œë“œë§Œ ì œë„¤ë¦­ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

```java
public class ArrayUtils {
    // ë°°ì—´ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ì œë„¤ë¦­ ë©”ì„œë“œ
    public static <T> List<T> arrayToList(T[] array) {
        List<T> list = new ArrayList<>();
        for (T item : array) {
            list.add(item);
        }
        return list;
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
String[] names = {"Alice", "Bob", "Charlie"};
List<String> nameList = ArrayUtils.arrayToList(names);

Integer[] numbers = {1, 2, 3, 4, 5};
List<Integer> numberList = ArrayUtils.arrayToList(numbers);
```

### ì œë„¤ë¦­ê³¼ ê¸°ë³¸ íƒ€ì…ì˜ ê´€ê³„

**ì£¼ì˜ì‚¬í•­**: ì œë„¤ë¦­ì€ ì°¸ì¡° íƒ€ì…ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
// âŒ ë¶ˆê°€ëŠ¥
List<int> numbers = new ArrayList<>();

// âœ… ê°€ëŠ¥ (ë˜í¼ í´ë˜ìŠ¤ ì‚¬ìš©)
List<Integer> numbers = new ArrayList<>();
numbers.add(42); // ì˜¤í† ë°•ì‹±ìœ¼ë¡œ ìë™ ë³€í™˜
int value = numbers.get(0); // ì–¸ë°•ì‹±ìœ¼ë¡œ ìë™ ë³€í™˜
```

> **ì™œ ì´ëŸ° ì œì•½ì´ ìˆì„ê¹Œìš”?** ì´ëŠ” ìë°”ì˜ íƒ€ì… ì†Œê±°(Type Erasure) ë°©ì‹ ë•Œë¬¸ì…ë‹ˆë‹¤. ë’¤ì—ì„œ ìì„¸íˆ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

---

## ì»¬ë ‰ì…˜ê³¼ ì œë„¤ë¦­: ì‹¤ë¬´ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´

### List ì»¬ë ‰ì…˜ í™œìš©

```java
// ArrayList: ë¹ ë¥¸ ì¡°íšŒ, ìˆœì„œ ë³´ì¥
List<String> fruits = new ArrayList<>();
fruits.add("ì‚¬ê³¼");
fruits.add("ë°”ë‚˜ë‚˜");
fruits.add("ì˜¤ë Œì§€");

// LinkedList: ë¹ ë¥¸ ì‚½ì…/ì‚­ì œ
List<String> tasks = new LinkedList<>();
tasks.add("í”„ë¡œì íŠ¸ ê³„íš");
tasks.add("ì½”ë“œ ë¦¬ë·°");

// ì œë„¤ë¦­ ë•ë¶„ì— íƒ€ì… ì•ˆì „í•œ ìˆœíšŒ
for (String fruit : fruits) {
    System.out.println("ê³¼ì¼: " + fruit);
}
```

### Map ì»¬ë ‰ì…˜ í™œìš©

```java
// ì‚¬ìš©ì IDì™€ ì´ë¦„ì„ ë§¤í•‘
Map<Long, String> userMap = new HashMap<>();
userMap.put(1L, "ê¹€ì² ìˆ˜");
userMap.put(2L, "ì´ì˜í¬");

// íƒ€ì… ì•ˆì „í•œ ì¡°íšŒ
String userName = userMap.get(1L); // String íƒ€ì… ë³´ì¥
```

### Set ì»¬ë ‰ì…˜ í™œìš©

```java
// ì¤‘ë³µ ì—†ëŠ” íƒœê·¸ ê´€ë¦¬
Set<String> tags = new HashSet<>();
tags.add("Java");
tags.add("Spring");
tags.add("Java"); // ì¤‘ë³µì€ ë¬´ì‹œë¨

System.out.println("íƒœê·¸ ê°œìˆ˜: " + tags.size()); // 2
```

---

## ì™€ì¼ë“œì¹´ë“œ: ì œë„¤ë¦­ì˜ ìœ ì—°ì„± ê·¹ëŒ€í™”

ì™€ì¼ë“œì¹´ë“œ(`?`)ëŠ” ì œë„¤ë¦­ì˜ ì—„ê²©í•¨ì„ ì ì ˆíˆ ì™„í™”í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

### ë¬´ì œí•œ ì™€ì¼ë“œì¹´ë“œ (`<?>`)

ì–´ë–¤ íƒ€ì…ì´ë“  ìƒê´€ì—†ì´ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤:

```java
public static void printListSize(List<?> list) {
    System.out.println("ë¦¬ìŠ¤íŠ¸ í¬ê¸°: " + list.size());
    // íƒ€ì…ì— ìƒê´€ì—†ì´ í¬ê¸°ë§Œ ì¶œë ¥
}

// ëª¨ë“  íƒ€ì…ì˜ ë¦¬ìŠ¤íŠ¸ì— ì‚¬ìš© ê°€ëŠ¥
printListSize(Arrays.asList("a", "b", "c"));        // List<String>
printListSize(Arrays.asList(1, 2, 3));             // List<Integer>
printListSize(Arrays.asList(true, false));         // List<Boolean>
```

### ìƒí•œ ê²½ê³„ ì™€ì¼ë“œì¹´ë“œ (`<? extends T>`)

"T ë˜ëŠ” Tì˜ í•˜ìœ„ íƒ€ì…"ì„ í—ˆìš©í•©ë‹ˆë‹¤. **ë°ì´í„°ë¥¼ ì½ì„ ë•Œ** ìœ ìš©í•©ë‹ˆë‹¤:

```java
// Numberì™€ ê·¸ í•˜ìœ„ íƒ€ì…ë“¤(Integer, Double ë“±)ì„ ì²˜ë¦¬
public static double sum(List<? extends Number> numbers) {
    double total = 0.0;
    for (Number num : numbers) {
        total += num.doubleValue(); // Numberì˜ ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥
    }
    return total;
}

// ì‚¬ìš© ì˜ˆì‹œ
List<Integer> integers = Arrays.asList(1, 2, 3);
List<Double> doubles = Arrays.asList(1.5, 2.5, 3.5);

System.out.println(sum(integers)); // 6.0
System.out.println(sum(doubles));  // 7.5
```

### í•˜í•œ ê²½ê³„ ì™€ì¼ë“œì¹´ë“œ (`<? super T>`)

"T ë˜ëŠ” Tì˜ ìƒìœ„ íƒ€ì…"ì„ í—ˆìš©í•©ë‹ˆë‹¤. **ë°ì´í„°ë¥¼ ì“¸ ë•Œ** ìœ ìš©í•©ë‹ˆë‹¤:

```java
// Integerì™€ ê·¸ ìƒìœ„ íƒ€ì…ë“¤(Number, Object ë“±)ì— ë°ì´í„° ì¶”ê°€
public static void addNumbers(List<? super Integer> list) {
    list.add(1);
    list.add(2);
    list.add(3);
    // IntegerëŠ” ìƒìœ„ íƒ€ì…ë“¤ì— ì•ˆì „í•˜ê²Œ í• ë‹¹ ê°€ëŠ¥
}

// ì‚¬ìš© ì˜ˆì‹œ
List<Number> numberList = new ArrayList<>();
List<Object> objectList = new ArrayList<>();

addNumbers(numberList); // OK
addNumbers(objectList); // OK
```

### PECS ì›ì¹™: Producer-Extends, Consumer-Super

**ê¸°ì–µí•˜ê¸° ì‰¬ìš´ ê·œì¹™**:
- **Producer(ë°ì´í„° ìƒì‚°)**: `<? extends T>` ì‚¬ìš©
- **Consumer(ë°ì´í„° ì†Œë¹„)**: `<? super T>` ì‚¬ìš©

```java
// Producer: ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ì»¬ë ‰ì…˜
public static <T> void copy(List<? extends T> source,    // ë°ì´í„°ë¥¼ ìƒì‚°
                           List<? super T> destination) { // ë°ì´í„°ë¥¼ ì†Œë¹„
    for (T item : source) {
        destination.add(item);
    }
}
```

---

## íƒ€ì… ì†Œê±°: ì œë„¤ë¦­ì˜ ë‚´ë¶€ ë™ì‘ ì›ë¦¬

### íƒ€ì… ì†Œê±°ë€?

Java ì»´íŒŒì¼ëŸ¬ëŠ” ì œë„¤ë¦­ ì •ë³´ë¥¼ ì»´íŒŒì¼ ì‹œì ì—ë§Œ ì‚¬ìš©í•˜ê³ , ì‹¤í–‰ ì‹œì ì—ëŠ” ì œê±°í•©ë‹ˆë‹¤.

```java
// ì»´íŒŒì¼ ì „
List<String> stringList = new ArrayList<String>();
List<Integer> integerList = new ArrayList<Integer>();

// ì»´íŒŒì¼ í›„ (ë°”ì´íŠ¸ì½”ë“œ)
List stringList = new ArrayList();
List integerList = new ArrayList();
```

### ì™œ íƒ€ì… ì†Œê±°ë¥¼ ì„ íƒí–ˆì„ê¹Œ?

**James Goslingì˜ ì„¤ê³„ ì² í•™**: "í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë¼"

1. **í•˜ìœ„ í˜¸í™˜ì„±**: ê¸°ì¡´ ì½”ë“œì™€ ì™„ë²½í•˜ê²Œ í˜¸í™˜
2. **ì„±ëŠ¥**: ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œ ì—†ìŒ
3. **ë‹¨ìˆœì„±**: JVM ë³€ê²½ ìµœì†Œí™”

### íƒ€ì… ì†Œê±°ë¡œ ì¸í•œ ì œì•½ì‚¬í•­

#### 1. ì œë„¤ë¦­ íƒ€ì…ìœ¼ë¡œ ê°ì²´ ìƒì„± ë¶ˆê°€

```java
public class GenericClass<T> {
    // âŒ ë¶ˆê°€ëŠ¥
    public T createInstance() {
        return new T(); // ì»´íŒŒì¼ ì˜¤ë¥˜
    }
    
    // âœ… í•´ê²°ì±…: Class ê°ì²´ ì‚¬ìš©
    private Class<T> type;
    
    public GenericClass(Class<T> type) {
        this.type = type;
    }
    
    public T createInstance() throws Exception {
        return type.newInstance();
    }
}
```

#### 2. ì œë„¤ë¦­ ë°°ì—´ ìƒì„± ë¶ˆê°€

```java
// âŒ ë¶ˆê°€ëŠ¥
List<String>[] stringLists = new List<String>[10];

// âœ… í•´ê²°ì±…
@SuppressWarnings("unchecked")
List<String>[] stringLists = new List[10];
```

#### 3. instanceof ì—°ì‚° ë¶ˆê°€

```java
List<String> stringList = new ArrayList<>();

// âŒ ë¶ˆê°€ëŠ¥
if (stringList instanceof List<String>) { }

// âœ… ê°€ëŠ¥
if (stringList instanceof List) { }
```

---

## ì‹¤ë¬´ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. API ì„¤ê³„ ì‹œ ì œë„¤ë¦­ í™œìš©

```java
// ì¢‹ì€ ì˜ˆ: ëª…í™•í•œ íƒ€ì… ì •ë³´ ì œê³µ
public interface UserRepository<T extends User> {
    T findById(Long id);
    List<T> findAll();
    T save(T user);
}

// êµ¬í˜„
public class AdminRepository implements UserRepository<Admin> {
    @Override
    public Admin findById(Long id) {
        // Admin íƒ€ì… ë³´ì¥
        return adminDao.findById(id);
    }
}
```

### 2. ë©”ì„œë“œ ì²´ì´ë‹ê³¼ ì œë„¤ë¦­

```java
public class Builder<T> {
    private T object;
    
    public Builder<T> with(Function<T, T> modifier) {
        this.object = modifier.apply(this.object);
        return this; // íƒ€ì… ì•ˆì „í•œ ì²´ì´ë‹
    }
    
    public T build() {
        return object;
    }
}
```

### 3. ì˜ˆì™¸ ì²˜ë¦¬ì™€ ì œë„¤ë¦­

```java
public class Result<T, E extends Exception> {
    private final T value;
    private final E error;
    
    private Result(T value, E error) {
        this.value = value;
        this.error = error;
    }
    
    public static <T> Result<T, ?> success(T value) {
        return new Result<>(value, null);
    }
    
    public static <E extends Exception> Result<?, E> failure(E error) {
        return new Result<>(null, error);
    }
    
    public boolean isSuccess() {
        return error == null;
    }
    
    public T getValue() {
        if (error != null) {
            throw new IllegalStateException("Result has error");
        }
        return value;
    }
}
```

---

## ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­

### 1. ì˜¤í† ë°•ì‹±/ì–¸ë°•ì‹± ë¹„ìš©

```java
// ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê²½ìš° ì£¼ì˜
List<Integer> numbers = new ArrayList<>();
for (int i = 0; i < 1000000; i++) {
    numbers.add(i); // ì˜¤í† ë°•ì‹± ë°œìƒ
}

// ëŒ€ì•ˆ: ê¸°ë³¸ íƒ€ì… íŠ¹í™” ì»¬ë ‰ì…˜ ì‚¬ìš©
TIntList numbers = new TIntArrayList(); // Trove ë¼ì´ë¸ŒëŸ¬ë¦¬
```

### 2. ì œë„¤ë¦­ ë©”ì„œë“œ vs ì œë„¤ë¦­ í´ë˜ìŠ¤

```java
// ì œë„¤ë¦­ ë©”ì„œë“œ (ê¶Œì¥)
public static <T> void swap(T[] array, int i, int j) {
    T temp = array[i];
    array[i] = array[j];
    array[j] = temp;
}

// ì œë„¤ë¦­ í´ë˜ìŠ¤ëŠ” ìƒíƒœê°€ í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©
public class ArraySwapper<T> {
    public void swap(T[] array, int i, int j) {
        // ìƒíƒœ ìœ ì§€ê°€ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©
    }
}
```

---

## ì¼ë°˜ì ì¸ ì‹¤ìˆ˜ì™€ í•´ê²° ë°©ë²•

### 1. Raw Type ì‚¬ìš©

```java
// âŒ ë‚˜ìœ ì˜ˆ
List list = new ArrayList();
list.add("ë¬¸ìì—´");
list.add(123);

// âœ… ì¢‹ì€ ì˜ˆ
List<String> list = new ArrayList<>();
list.add("ë¬¸ìì—´");
// list.add(123); // ì»´íŒŒì¼ ì˜¤ë¥˜
```

### 2. ì™€ì¼ë“œì¹´ë“œ ë‚¨ìš©

```java
// âŒ ë¶ˆí•„ìš”í•œ ì™€ì¼ë“œì¹´ë“œ
public void process(List<?> items) {
    // itemsì—ì„œ ë­”ê°€ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ
}

// âœ… ì ì ˆí•œ ì œë„¤ë¦­ ì‚¬ìš©
public <T> void process(List<T> items) {
    for (T item : items) {
        // item ì‚¬ìš© ê°€ëŠ¥
    }
}
```

### 3. ì œë„¤ë¦­ ì˜ˆì™¸ ì²˜ë¦¬

```java
// âŒ ì œë„¤ë¦­ ì˜ˆì™¸ëŠ” catch ë¶ˆê°€
try {
    // ì–´ë–¤ ì‘ì—…
} catch (T e) { // ì»´íŒŒì¼ ì˜¤ë¥˜
    // ...
}

// âœ… ë°”ìš´ë“œ ì‚¬ìš©
public <T extends Exception> void handle(T exception) throws T {
    // ì˜ˆì™¸ ì²˜ë¦¬ ë¡œì§
    throw exception;
}
```

---

## ë§ˆë¬´ë¦¬

ì œë„¤ë¦­ì€ Java ì–¸ì–´ì˜ ì§„í™”ì—ì„œ ì¤‘ìš”í•œ ì´ì •í‘œì˜€ìŠµë‹ˆë‹¤. ë‹¨ìˆœíˆ íƒ€ì… ì•ˆì „ì„±ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ë„˜ì–´, ë” í‘œí˜„ë ¥ ìˆê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

**ê¸°ì–µí•´ì•¼ í•  í•µì‹¬**:
- ì œë„¤ë¦­ì€ ì»´íŒŒì¼ ì‹œì ì˜ ë„êµ¬ì…ë‹ˆë‹¤
- íƒ€ì… ì•ˆì „ì„±ê³¼ ì½”ë“œ ì¬ì‚¬ìš©ì„±ì„ ë™ì‹œì— ì œê³µí•©ë‹ˆë‹¤
- ê³¼ë„í•œ ì‚¬ìš©ë³´ë‹¤ëŠ” ì ì ˆí•œ í™œìš©ì´ ì¤‘ìš”í•©ë‹ˆë‹¤
