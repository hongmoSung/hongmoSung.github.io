---
title: "Java I/O"
categories:
  - java
tags:
  - I/O
toc: true
mermaid: true
---

## 1. ê¸°ë³¸ ìŠ¤íŠ¸ë¦¼ ê°œë… - ëª¨ë“  I/Oì˜ ê¸°ì´ˆ

### ì™œ ìŠ¤íŠ¸ë¦¼ì¸ê°€?

Java I/Oë¥¼ ì„¤ê³„í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•œ ê²ƒì€ **"í”Œë«í¼ ë…ë¦½ì„±"**ê³¼ **"ë‹¨ìˆœì„±"**ì´ì—ˆìŠµë‹ˆë‹¤. ìŠ¤íŠ¸ë¦¼ì€ ë°ì´í„°ì˜ íë¦„ì„ ì¶”ìƒí™”í•˜ì—¬ íŒŒì¼ì´ë“  ë„¤íŠ¸ì›Œí¬ë“  ë©”ëª¨ë¦¬ë“  ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

### í•µì‹¬ ì›ì¹™

#### 1) ë‹¨ë°©í–¥ì„±
```java
// ì…ë ¥ìš©ê³¼ ì¶œë ¥ìš©ì´ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤
InputStream input = ...;   // ì½ê¸°ë§Œ ê°€ëŠ¥
OutputStream output = ...; // ì“°ê¸°ë§Œ ê°€ëŠ¥
```

ì´ë ‡ê²Œ ì„¤ê³„í•œ ì´ìœ ëŠ” **ì•ˆì „ì„±**ê³¼ **ëª…í™•ì„±** ë•Œë¬¸ì…ë‹ˆë‹¤. í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ì´ ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ë™ì‹œì— í•œë‹¤ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§€ê³  ì˜¤ë¥˜ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.

#### 2) ë°”ì´íŠ¸ vs ë¬¸ì êµ¬ë¶„

```java
// ë°”ì´ë„ˆë¦¬ ë°ì´í„° (ì´ë¯¸ì§€, ì‹¤í–‰íŒŒì¼ ë“±)
InputStream / OutputStream

// í…ìŠ¤íŠ¸ ë°ì´í„° (ë¬¸ì„œ, ì„¤ì •íŒŒì¼ ë“±)
Reader / Writer
```

### ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í• ê¹Œ?

```java
// ğŸ”´ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ ì‚¬ìš©
// - ì´ë¯¸ì§€, ë™ì˜ìƒ, ì‹¤í–‰íŒŒì¼
// - ë„¤íŠ¸ì›Œí¬ í†µì‹ 
// - ì •í™•í•œ ë°”ì´íŠ¸ ë‹¨ìœ„ ì²˜ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°

// ğŸ”µ ë¬¸ì ìŠ¤íŠ¸ë¦¼ ì‚¬ìš©  
// - í…ìŠ¤íŠ¸ íŒŒì¼
// - ë¡œê·¸ íŒŒì¼
// - ì„¤ì • íŒŒì¼
// - í•œê¸€ ë“± ë©€í‹°ë°”ì´íŠ¸ ë¬¸ì ì²˜ë¦¬
```

## 2. íŒŒì¼ I/O - ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥

### ê¸°ë³¸ íŒŒì¼ ì½ê¸°/ì“°ê¸°

íŒŒì¼ I/OëŠ” ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í•„ìš”í•œ ê¸°ë³¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì˜¬ë°”ë¥¸ í´ë˜ìŠ¤ ì„ íƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

#### í…ìŠ¤íŠ¸ íŒŒì¼ ì²˜ë¦¬
```java
// ğŸ“ í…ìŠ¤íŠ¸ íŒŒì¼ ì½ê¸°
try (FileReader reader = new FileReader("config.txt")) {
    int ch;
    while ((ch = reader.read()) != -1) {
        System.out.print((char) ch);
    }
}

// ğŸ“ í…ìŠ¤íŠ¸ íŒŒì¼ ì“°ê¸°
try (FileWriter writer = new FileWriter("output.txt")) {
    writer.write("Hello, Java I/O!");
    writer.write("\nì•ˆë…•í•˜ì„¸ìš”!");
}
```

#### ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì²˜ë¦¬
```java
// ğŸ”§ ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì½ê¸°
try (FileInputStream fis = new FileInputStream("image.jpg")) {
    byte[] buffer = new byte[1024];
    int bytesRead;
    while ((bytesRead = fis.read(buffer)) != -1) {
        // ë°”ì´íŠ¸ ë°ì´í„° ì²˜ë¦¬
    }
}

// ğŸ”§ ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì“°ê¸°
try (FileOutputStream fos = new FileOutputStream("output.bin")) {
    byte[] data = "ë°”ì´ë„ˆë¦¬ ë°ì´í„°".getBytes();
    fos.write(data);
}
```

### ì‹¤ë¬´ íŒ

```java
// âŒ í”¼í•´ì•¼ í•  ì½”ë“œ - 1ë°”ì´íŠ¸ì”© ì½ê¸°
FileInputStream fis = new FileInputStream("large.txt");
int b;
while ((b = fis.read()) != -1) {  // ë§¤ìš° ëŠë¦¼!
    // ì²˜ë¦¬
}

// âœ… ê¶Œì¥ ì½”ë“œ - ë²„í¼ ì‚¬ìš©
FileInputStream fis = new FileInputStream("large.txt");
byte[] buffer = new byte[8192];  // 8KB ë²„í¼
int bytesRead;
while ((bytesRead = fis.read(buffer)) != -1) {
    // ì²˜ë¦¬ - í›¨ì”¬ ë¹ ë¦„!
}
```

## 3. ë²„í¼ë§ - ì„±ëŠ¥ì„ ìœ„í•œ í•„ìˆ˜ ê¸°ìˆ 

### ì™œ ë²„í¼ë§ì´ í•„ìš”í•œê°€?

I/O ì‘ì—…ì€ CPUì— ë¹„í•´ ë§¤ìš° ëŠë¦½ë‹ˆë‹¤. 1ë°”ì´íŠ¸ì”© ì½ëŠ” ê²ƒë³´ë‹¤ í° ë©ì–´ë¦¬ë¡œ ì½ëŠ” ê²ƒì´ í›¨ì”¬ íš¨ìœ¨ì ì…ë‹ˆë‹¤.

```java
// ì„±ëŠ¥ ì°¨ì´ ì˜ˆì‹œ
// 1ë°”ì´íŠ¸ì”©: 1MB íŒŒì¼ ì½ê¸° â†’ 1,000,000ë²ˆì˜ ì‹œìŠ¤í…œ í˜¸ì¶œ
// 8KB ë²„í¼: 1MB íŒŒì¼ ì½ê¸° â†’ 128ë²ˆì˜ ì‹œìŠ¤í…œ í˜¸ì¶œ
```

### ë²„í¼ë§ ìŠ¤íŠ¸ë¦¼ ì‚¬ìš©ë²•

#### í…ìŠ¤íŠ¸ íŒŒì¼ ë²„í¼ë§
```java
// ğŸ“š BufferedReader - í…ìŠ¤íŠ¸ íŒŒì¼ ë¹ ë¥¸ ì½ê¸°
try (BufferedReader reader = new BufferedReader(new FileReader("large.txt"))) {
    String line;
    while ((line = reader.readLine()) != null) {  // í•œ ì¤„ì”© ì½ê¸°
        System.out.println(line);
    }
}

// ğŸ“š BufferedWriter - í…ìŠ¤íŠ¸ íŒŒì¼ ë¹ ë¥¸ ì“°ê¸°
try (BufferedWriter writer = new BufferedWriter(new FileWriter("output.txt"))) {
    writer.write("ì²« ë²ˆì§¸ ì¤„");
    writer.newLine();  // í”Œë«í¼ì— ë§ëŠ” ì¤„ë°”ê¿ˆ
    writer.write("ë‘ ë²ˆì§¸ ì¤„");
    writer.flush();    // ë²„í¼ ê°•ì œ ë¹„ìš°ê¸°
}
```

#### ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë²„í¼ë§
```java
// ğŸš€ BufferedInputStream - ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë¹ ë¥¸ ì½ê¸°
try (BufferedInputStream bis = new BufferedInputStream(
        new FileInputStream("large.bin"))) {
    byte[] buffer = new byte[1024];
    int bytesRead;
    while ((bytesRead = bis.read(buffer)) != -1) {
        // ì²˜ë¦¬
    }
}
```

### ì„±ëŠ¥ ë¹„êµ ì‹¤í—˜

```java
// ì‹¤ì œ ì„±ëŠ¥ ì°¨ì´ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”
public class PerformanceTest {
    public static void main(String[] args) throws IOException {
        String fileName = "large_file.txt";
        
        // ë²„í¼ ì—†ì´
        long start = System.currentTimeMillis();
        try (FileReader fr = new FileReader(fileName)) {
            int ch;
            while ((ch = fr.read()) != -1) {
                // ì²˜ë¦¬
            }
        }
        long unbuffered = System.currentTimeMillis() - start;
        
        // ë²„í¼ì™€ í•¨ê»˜
        start = System.currentTimeMillis();
        try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {
            int ch;
            while ((ch = br.read()) != -1) {
                // ì²˜ë¦¬
            }
        }
        long buffered = System.currentTimeMillis() - start;
        
        System.out.println("ë²„í¼ ì—†ì´: " + unbuffered + "ms");
        System.out.println("ë²„í¼ ì ìš©: " + buffered + "ms");
        System.out.println("ì„±ëŠ¥ í–¥ìƒ: " + (unbuffered / (double) buffered) + "ë°°");
    }
}
```

### JVM ë©”ëª¨ë¦¬ ê´€ì ì—ì„œ ë³¸ ë²„í¼ë§

ì´ì œ ë²„í¼ë§ì´ JVM ë‚´ë¶€ì—ì„œ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ì´ëŠ” NIOë¥¼ ì„¤ê³„í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ê³ ë ¤í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.

#### JVM ë©”ëª¨ë¦¬ êµ¬ì¡°ì™€ ë²„í¼ì˜ ìœ„ì¹˜

```mermaid
graph TD
    subgraph "JVM Process"
        subgraph "JVM í™ ë©”ëª¨ë¦¬"
            A[HeapByteBuffer ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ëŒ€ìƒ]
            B[Java ê°ì²´ë“¤]
        end
        
        subgraph "JVM ë‹¤ì´ë ‰íŠ¸ ë©”ëª¨ë¦¬"
            C[DirectByteBuffer ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬]
            D[ë©”íƒ€ìŠ¤í˜ì´ìŠ¤]
        end
        
        subgraph "JVM ìŠ¤íƒ"
            E[ìŠ¤ë ˆë“œ ìŠ¤íƒ]
            F[ì§€ì—­ ë³€ìˆ˜]
        end
    end
    
    subgraph "ìš´ì˜ì²´ì œ"
        G[ì»¤ë„ ë²„í¼]
        H[íŒŒì¼ ì‹œìŠ¤í…œ ìºì‹œ]
        I[ë„¤íŠ¸ì›Œí¬ ë²„í¼]
    end
    
    A -.-> G
    C --> G
    G --> H
    G --> I
    
    style A fill:#e1f5fe
    style C fill:#fff3e0
    style G fill:#f3e5f5
```

#### 1) í™ ë²„í¼ (HeapByteBuffer)

```java
// JVM í™ ë©”ëª¨ë¦¬ì— ìƒì„± - ì „í†µì ì¸ BufferedReaderê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©
BufferedReader reader = new BufferedReader(new FileReader("file.txt"));
```

**JVM ë‚´ë¶€ ë™ì‘:**
- JVM í™ ë©”ëª¨ë¦¬ì— char ë°°ì—´ë¡œ ì €ì¥
- ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ëŒ€ìƒ
- ì‹œìŠ¤í…œ í˜¸ì¶œ ì‹œ ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬ë¡œ ë³µì‚¬ í•„ìš”

```mermaid
sequenceDiagram
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant JVM as JVM í™
    participant Native as ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬
    participant OS as ìš´ì˜ì²´ì œ
    
    App->>JVM: BufferedReader ìƒì„±
    JVM->>JVM: í™ì— char[] ë°°ì—´ ìƒì„±
    
    Note over App,OS: ë°ì´í„° ì½ê¸° ê³¼ì •
    App->>JVM: reader.read()
    JVM->>Native: í™ ë°ì´í„°ë¥¼ ë„¤ì´í‹°ë¸Œë¡œ ë³µì‚¬
    Native->>OS: ì‹œìŠ¤í…œ í˜¸ì¶œ
    OS->>JVM: ë°ì´í„° ë°˜í™˜
    JVM->>App: ë²„í¼ì—ì„œ ë¬¸ì ë°˜í™˜
```

#### 2) ë‹¤ì´ë ‰íŠ¸ ë²„í¼ (DirectByteBuffer) - NIO ì „ìš©

```java
// DirectByteBuffer ê°ì²´ ìì²´ëŠ” í™ì— ìˆê³  GC ëŒ€ìƒì…ë‹ˆë‹¤
ByteBuffer directBuffer = ByteBuffer.allocateDirect(1024);
// ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬ëŠ” Cleanerì— ì˜í•´ í•´ì œë©ë‹ˆë‹¤
```

**JVM ë‚´ë¶€ ë™ì‘:**
- ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬ì— ì§ì ‘ í• ë‹¹
- ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ëŒ€ìƒ ì•„ë‹˜ (ì°¸ì¡°ë§Œ GC ëŒ€ìƒ)
- ì‹œìŠ¤í…œ í˜¸ì¶œ ì‹œ ë³µì‚¬ ì—†ì´ ì§ì ‘ ì‚¬ìš© ê°€ëŠ¥

```mermaid
sequenceDiagram
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant JVM as JVM í™
    participant Native as ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬
    participant OS as ìš´ì˜ì²´ì œ
    
    App->>JVM: ByteBuffer.allocateDirect(1024)
    JVM->>Native: ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬ í• ë‹¹
    JVM->>JVM: DirectByteBuffer ê°ì²´ ìƒì„±
    
    Note over App,OS: ë°ì´í„° ì²˜ë¦¬ ê³¼ì •
    App->>Native: buffer.put(data) - ì§ì ‘ ì ‘ê·¼
    
    App->>JVM: channel.write(buffer)
    JVM->>OS: ë„¤ì´í‹°ë¸Œ ë©”ëª¨ë¦¬ ì£¼ì†Œ ì „ë‹¬
    OS->>OS: ë³µì‚¬ ì—†ì´ ì§ì ‘ ì‚¬ìš©
```

#### ë²„í¼ ì„±ëŠ¥ ë¹„êµ - JVM ê´€ì 

```java
public class BufferPerformanceTest {
    public static void main(String[] args) throws IOException {
        int bufferSize = 1024 * 1024; // 1MB
        
        // í™ ë²„í¼ í…ŒìŠ¤íŠ¸ (ì „í†µì ì¸ ë°©ì‹)
        long start = System.currentTimeMillis();
        testTraditionalBuffering("heap_test.txt");
        long heapTime = System.currentTimeMillis() - start;
        
        // ë‹¤ì´ë ‰íŠ¸ ë²„í¼ í…ŒìŠ¤íŠ¸ (NIO ë°©ì‹)
        start = System.currentTimeMillis();
        testDirectBuffering("direct_test.txt");
        long directTime = System.currentTimeMillis() - start;
        
        System.out.println("í™ ë²„í¼ (ì „í†µì ): " + heapTime + "ms");
        System.out.println("ë‹¤ì´ë ‰íŠ¸ ë²„í¼ (NIO): " + directTime + "ms");
        System.out.println("ì„±ëŠ¥ í–¥ìƒ: " + (heapTime / (double) directTime) + "ë°°");
    }
    
    private static void testTraditionalBuffering(String fileName) throws IOException {
        try (BufferedWriter writer = new BufferedWriter(new FileWriter(fileName))) {
            for (int i = 0; i < 10000; i++) {
                writer.write("Test data for performance comparison\n");
            }
        }
    }
    
    private static void testDirectBuffering(String fileName) throws IOException {
        try (FileChannel channel = FileChannel.open(Paths.get(fileName),
                StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
            
            ByteBuffer buffer = ByteBuffer.allocateDirect(8192);
            byte[] data = "Test data for performance comparison\n".getBytes();
            
            for (int i = 0; i < 10000; i++) {
                if (buffer.remaining() < data.length) {
                    buffer.flip();
                    channel.write(buffer);
                    buffer.clear();
                }
                buffer.put(data);
            }
            
            buffer.flip();
            channel.write(buffer);
        }
    }
}
```

#### ì‹¤ë¬´ì—ì„œì˜ ë²„í¼ ì„ íƒ ê¸°ì¤€

```java
// ì–¸ì œ ì–´ë–¤ ë²„í¼ë¥¼ ì‚¬ìš©í• ê¹Œ?
public class BufferSelectionGuide {
    
    // ğŸ“ ì¼ë°˜ì ì¸ í…ìŠ¤íŠ¸ íŒŒì¼ ì²˜ë¦¬ â†’ ì „í†µì ì¸ ë²„í¼ë§
    public void processTextFile(String fileName) throws IOException {
        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
            String line;
            while ((line = reader.readLine()) != null) {
                // í…ìŠ¤íŠ¸ ì²˜ë¦¬ - í™ ë²„í¼ë¡œ ì¶©ë¶„
                processLine(line);
            }
        }
    }
    
    // ğŸš€ ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ â†’ NIO ë‹¤ì´ë ‰íŠ¸ ë²„í¼
    public void processLargeFile(String fileName) throws IOException {
        try (FileChannel channel = FileChannel.open(Paths.get(fileName))) {
            ByteBuffer buffer = ByteBuffer.allocateDirect(1024 * 1024); // 1MB
            
            while (channel.read(buffer) > 0) {
                buffer.flip();
                // ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ - ë‹¤ì´ë ‰íŠ¸ ë²„í¼ë¡œ ì„±ëŠ¥ ìµœì í™”
                processBuffer(buffer);
                buffer.clear();
            }
        }
    }
    
    private void processLine(String line) {
        // í…ìŠ¤íŠ¸ ì²˜ë¦¬ ë¡œì§
    }
    
    private void processBuffer(ByteBuffer buffer) {
        // ë°”ì´ë„ˆë¦¬ ë°ì´í„° ì²˜ë¦¬ ë¡œì§
    }
}
```

## 4. ìì› ê´€ë¦¬ - ì•ˆì •ì„±ì„ ìœ„í•œ í•µì‹¬

### ì™œ ìì› ê´€ë¦¬ê°€ ì¤‘ìš”í•œê°€?

I/O ì‘ì—…ì€ ì‹œìŠ¤í…œ ìì›(íŒŒì¼ í•¸ë“¤, ë©”ëª¨ë¦¬ ë“±)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì œëŒ€ë¡œ í•´ì œí•˜ì§€ ì•Šìœ¼ë©´ **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜**ì™€ **íŒŒì¼ í•¸ë“¤ ê³ ê°ˆ**ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### try-with-resources (Java 7+)

ì´ê²ƒì€ Java 7ì—ì„œ ë„ì…í•œ ê°€ì¥ ì¤‘ìš”í•œ ê°œì„ ì‚¬í•­ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

```java
// âœ… ê¶Œì¥ ë°©ë²• - ìë™ ìì› ê´€ë¦¬
try (BufferedReader reader = new BufferedReader(new FileReader("file.txt"))) {
    String line;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
} // ìë™ìœ¼ë¡œ reader.close() í˜¸ì¶œë¨

// âœ… ì—¬ëŸ¬ ìì› ë™ì‹œ ê´€ë¦¬
try (FileInputStream fis = new FileInputStream("input.txt");
     FileOutputStream fos = new FileOutputStream("output.txt");
     BufferedInputStream bis = new BufferedInputStream(fis);
     BufferedOutputStream bos = new BufferedOutputStream(fos)) {
    
    // íŒŒì¼ ë³µì‚¬ ë¡œì§
    byte[] buffer = new byte[8192];
    int bytesRead;
    while ((bytesRead = bis.read(buffer)) != -1) {
        bos.write(buffer, 0, bytesRead);
    }
    
} // ëª¨ë“  ìì›ì´ ìë™ìœ¼ë¡œ í•´ì œë¨
```

### ì „í†µì ì¸ ë°©ë²•ê³¼ ë¹„êµ

```java
// âŒ ì „í†µì ì¸ ë°©ë²• - ë³µì¡í•˜ê³  ì˜¤ë¥˜ ê°€ëŠ¥ì„± ë†’ìŒ
BufferedReader reader = null;
try {
    reader = new BufferedReader(new FileReader("file.txt"));
    String line;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
} catch (IOException e) {
    e.printStackTrace();
} finally {
    if (reader != null) {
        try {
            reader.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

### ì˜ˆì™¸ ì²˜ë¦¬ ëª¨ë²” ì‚¬ë¡€

```java
// êµ¬ì²´ì ì¸ ì˜ˆì™¸ ì²˜ë¦¬
public void readConfigFile(String fileName) {
    try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
        String line;
        while ((line = reader.readLine()) != null) {
            // ì„¤ì • íŒŒì¼ ì²˜ë¦¬
        }
    } catch (FileNotFoundException e) {
        System.err.println("ì„¤ì • íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + fileName);
        // ê¸°ë³¸ ì„¤ì • ì ìš©
    } catch (IOException e) {
        System.err.println("íŒŒì¼ ì½ê¸° ì˜¤ë¥˜: " + e.getMessage());
        // ë³µêµ¬ ë¡œì§
    }
}
```

## 5. í˜„ëŒ€ì  ì ‘ê·¼ë²• - NIO.2 (Java 7+)

### ê¸°ì¡´ File í´ë˜ìŠ¤ì˜ í•œê³„

```java
// âŒ ê¸°ì¡´ File í´ë˜ìŠ¤ì˜ ë¬¸ì œì 
File file = new File("nonexistent.txt");
boolean deleted = file.delete();  // falseë§Œ ë°˜í™˜, ì‹¤íŒ¨ ì´ìœ  ëª¨ë¦„
```

### Pathì™€ Files í´ë˜ìŠ¤

Java 7ë¶€í„° ë„ì…ëœ **NIO.2**ëŠ” ë” ê°•ë ¥í•˜ê³  ì§ê´€ì ì¸ íŒŒì¼ ì‹œìŠ¤í…œ APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### ê¸°ë³¸ ì‚¬ìš©ë²•
```java
// ğŸ†• Path ìƒì„±
Path path = Paths.get("documents", "readme.txt");
Path absolutePath = path.toAbsolutePath();

// ğŸ†• íŒŒì¼ ì½ê¸° - ê°„ë‹¨í•˜ê³  ê°•ë ¥
List<String> lines = Files.readAllLines(path, StandardCharsets.UTF_8);
for (String line : lines) {
    System.out.println(line);
}

// ğŸ†• íŒŒì¼ ì“°ê¸° - í•œ ë²ˆì— ì²˜ë¦¬
List<String> data = Arrays.asList("ì²« ë²ˆì§¸ ì¤„", "ë‘ ë²ˆì§¸ ì¤„");
Files.write(path, data, StandardCharsets.UTF_8);
```

#### ì‹¤ìš©ì ì¸ ì˜ˆì œ

```java
// íŒŒì¼ ë³µì‚¬
Path source = Paths.get("source.txt");
Path target = Paths.get("target.txt");
Files.copy(source, target, StandardCopyOption.REPLACE_EXISTING);

// ë””ë ‰í† ë¦¬ ìƒì„±
Path directory = Paths.get("new_folder");
Files.createDirectories(directory);  // ì¤‘ê°„ ê²½ë¡œë„ ëª¨ë‘ ìƒì„±

// íŒŒì¼ ì¡´ì¬ í™•ì¸
if (Files.exists(path)) {
    System.out.println("íŒŒì¼ í¬ê¸°: " + Files.size(path) + " bytes");
    System.out.println("ìˆ˜ì • ì‹œê°„: " + Files.getLastModifiedTime(path));
}

// íŒŒì¼ ì‚­ì œ
try {
    Files.delete(path);
} catch (NoSuchFileException e) {
    System.out.println("íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
} catch (IOException e) {
    System.out.println("ì‚­ì œ ì‹¤íŒ¨: " + e.getMessage());
}
```

### ìŠ¤íŠ¸ë¦¼ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°

```java
// NIO.2ì™€ ìŠ¤íŠ¸ë¦¼ ê²°í•©
try (BufferedReader reader = Files.newBufferedReader(path, StandardCharsets.UTF_8)) {
    String line;
    while ((line = reader.readLine()) != null) {
        // ì²˜ë¦¬
    }
}

// ë˜ëŠ” ë” ê°„ë‹¨íˆ
try (Stream<String> lines = Files.lines(path)) {
    lines.filter(line -> line.contains("ERROR"))
         .forEach(System.out::println);
}
```

### NIO ì±„ë„ - JVM ë‚´ë¶€ ë™ì‘ì˜ í˜ì‹ 

NIO.2ì˜ Pathì™€ Filesë§Œìœ¼ë¡œë„ ê°•ë ¥í•˜ì§€ë§Œ, ì§„ì •í•œ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ì„œëŠ” **ì±„ë„(Channel)**ì˜ ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.

#### ì „í†µì ì¸ I/O vs NIO ì±„ë„ ë¹„êµ

```mermaid
graph LR
    subgraph "ì „í†µì ì¸ I/O Stream"
        A1[ì• í”Œë¦¬ì¼€ì´ì…˜] --> A2[JVM í™]
        A2 --> A3[ì‹œìŠ¤í…œ í˜¸ì¶œ]
        A3 --> A4[ì»¤ë„ ë²„í¼]
        A4 --> A5[íŒŒì¼/ë„¤íŠ¸ì›Œí¬]
        
        B1[ë¸”ë¡œí‚¹ I/O ìŠ¤ë ˆë“œ ëŒ€ê¸°]
        B2[ë§¤ë²ˆ ì‹œìŠ¤í…œ í˜¸ì¶œ]
        B3[ë©”ëª¨ë¦¬ ë³µì‚¬ å¤š]
    end
    
    subgraph "NIO Channel Buffer"
        C1[ì• í”Œë¦¬ì¼€ì´ì…˜] --> C2[ì±„ë„]
        C2 --> C3[ë²„í¼ Direct]
        C3 --> C4[ì‹œìŠ¤í…œ í˜¸ì¶œ ë°°ì¹˜]
        C4 --> C5[ì»¤ë„ ë²„í¼]
        C5 --> C6[íŒŒì¼/ë„¤íŠ¸ì›Œí¬]
        
        D1[ë…¼ë¸”ë¡œí‚¹ I/O ìŠ¤ë ˆë“œ íš¨ìœ¨ì„±]
        D2[ë°°ì¹˜ ì‹œìŠ¤í…œ í˜¸ì¶œ]
        D3[ë©”ëª¨ë¦¬ ë³µì‚¬ ìµœì†Œ]
    end
    
    style A2 fill:#ffcdd2
    style C3 fill:#c8e6c9
    style B1 fill:#ffcdd2
    style D1 fill:#c8e6c9
```

#### ì±„ë„ì˜ ì‹¤ìš©ì  í™œìš©

```java
public class ChannelExample {
    public static void main(String[] args) throws IOException {
        // ê¸°ë³¸ ì±„ë„ ì‚¬ìš©
        basicChannelUsage();
        
        // íŒŒì¼ ë³µì‚¬ ìµœì í™”
        optimizedFileCopy("source.txt", "destination.txt");
        
        // ë©”ëª¨ë¦¬ ë§µ íŒŒì¼ ì²˜ë¦¬
        memoryMappedFileProcessing("large_data.bin");
    }
    
    // ê¸°ë³¸ ì±„ë„ ì‚¬ìš©ë²•
    private static void basicChannelUsage() throws IOException {
        Path path = Paths.get("example.txt");
        
        try (FileChannel channel = FileChannel.open(path, 
                StandardOpenOption.READ, StandardOpenOption.WRITE)) {
            
            // ë‹¤ì´ë ‰íŠ¸ ë²„í¼ ìƒì„±
            ByteBuffer buffer = ByteBuffer.allocateDirect(1024);
            
            // ì±„ë„ì—ì„œ ë²„í¼ë¡œ ë°ì´í„° ì½ê¸°
            int bytesRead = channel.read(buffer);
            
            System.out.println("ì½ì€ ë°”ì´íŠ¸: " + bytesRead);
            System.out.println("ë²„í¼ ìœ„ì¹˜: " + buffer.position());
            
            // ë²„í¼ë¥¼ ì½ê¸° ëª¨ë“œë¡œ ì „í™˜
            buffer.flip();
            
            // ì±„ë„ì— ë²„í¼ ë°ì´í„° ì“°ê¸°
            channel.write(buffer);
        }
    }
    
    // Zero-Copy íŒŒì¼ ë³µì‚¬
    private static void optimizedFileCopy(String source, String dest) throws IOException {
        try (FileChannel srcChannel = FileChannel.open(Paths.get(source), StandardOpenOption.READ);
             FileChannel destChannel = FileChannel.open(Paths.get(dest), 
                     StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
            
            // ìš´ì˜ì²´ì œ ë ˆë²¨ì—ì„œ ì§ì ‘ ì „ì†¡ - ë©”ëª¨ë¦¬ ë³µì‚¬ ìµœì†Œí™”
            srcChannel.transferTo(0, srcChannel.size(), destChannel);
            System.out.println("Zero-Copy íŒŒì¼ ë³µì‚¬ ì™„ë£Œ");
        }
    }
    
    // ë©”ëª¨ë¦¬ ë§µ íŒŒì¼ ì²˜ë¦¬
    private static void memoryMappedFileProcessing(String fileName) throws IOException {
        try (FileChannel channel = FileChannel.open(Paths.get(fileName), 
                StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE)) {
            
            // íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ë§µí•‘
            MappedByteBuffer mappedBuffer = channel.map(
                    FileChannel.MapMode.READ_WRITE, 0, 1024 * 1024); // 1MB
            
            // ë©”ëª¨ë¦¬ ë§µì—ì„œ ì§ì ‘ ë°ì´í„° ì¡°ì‘
            mappedBuffer.put("Memory mapped data".getBytes());
            
            // ê°•ì œë¡œ ë””ìŠ¤í¬ì— ë™ê¸°í™”
            mappedBuffer.force();
            
            System.out.println("ë©”ëª¨ë¦¬ ë§µ íŒŒì¼ ì²˜ë¦¬ ì™„ë£Œ");
        }
    }
}
```

#### ì±„ë„ì˜ JVM ë‚´ë¶€ ë™ì‘ ê³¼ì •

```mermaid
sequenceDiagram
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant Channel as FileChannel
    participant Buffer as DirectByteBuffer
    participant JVM as JVM Native
    participant OS as ìš´ì˜ì²´ì œ
    participant File as íŒŒì¼ì‹œìŠ¤í…œ
    
    Note over App,File: ì±„ë„ ì—´ê¸°
    App->>Channel: FileChannel.open()
    Channel->>JVM: ë„¤ì´í‹°ë¸Œ íŒŒì¼ í•¸ë“¤ ìƒì„±
    JVM->>OS: open() ì‹œìŠ¤í…œ í˜¸ì¶œ
    OS->>File: íŒŒì¼ í•¸ë“¤ ë°˜í™˜
    
    Note over App,File: ë°ì´í„° ì½ê¸°
    App->>Channel: channel.read(buffer)
    Channel->>JVM: ë„¤ì´í‹°ë¸Œ read í˜¸ì¶œ
    JVM->>OS: read() ì‹œìŠ¤í…œ í˜¸ì¶œ
    OS->>File: íŒŒì¼ì—ì„œ ë°ì´í„° ì½ê¸°
    File->>Buffer: ë‹¤ì´ë ‰íŠ¸ ë²„í¼ì— ì§ì ‘ ì €ì¥
    Buffer->>App: ì½ì€ ë°”ì´íŠ¸ ìˆ˜ ë°˜í™˜
    
    Note over App,File: ë°ì´í„° ì“°ê¸°
    App->>Channel: channel.write(buffer)
    Channel->>JVM: ë„¤ì´í‹°ë¸Œ write í˜¸ì¶œ
    JVM->>OS: write() ì‹œìŠ¤í…œ í˜¸ì¶œ
    OS->>File: ë²„í¼ì—ì„œ íŒŒì¼ë¡œ ì§ì ‘ ì“°ê¸°
```

#### ì„±ëŠ¥ ìµœì í™” ë¹„êµ

```java
public class IOPerformanceComparison {
    public static void main(String[] args) throws IOException {
        String sourceFile = "large_test_file.txt";
        createTestFile(sourceFile, 10 * 1024 * 1024); // 10MB íŒŒì¼ ìƒì„±
        
        // 1. ì „í†µì ì¸ I/O
        long start = System.currentTimeMillis();
        copyTraditional(sourceFile, "copy_traditional.txt");
        long traditionalTime = System.currentTimeMillis() - start;
        
        // 2. NIO ë²„í¼
        start = System.currentTimeMillis();
        copyNIOBuffer(sourceFile, "copy_nio_buffer.txt");
        long nioBufferTime = System.currentTimeMillis() - start;
        
        // 3. NIO Zero-Copy
        start = System.currentTimeMillis();
        copyNIOZeroCopy(sourceFile, "copy_nio_zerocopy.txt");
        long nioZeroCopyTime = System.currentTimeMillis() - start;
        
        System.out.println("ì „í†µì ì¸ I/O: " + traditionalTime + "ms");
        System.out.println("NIO ë²„í¼: " + nioBufferTime + "ms");
        System.out.println("NIO Zero-Copy: " + nioZeroCopyTime + "ms");
        System.out.println("ì„±ëŠ¥ í–¥ìƒ (NIO vs ì „í†µ): " + 
                          (traditionalTime / (double) nioZeroCopyTime) + "ë°°");
    }
    
    private static void createTestFile(String fileName, int size) throws IOException {
        try (FileOutputStream fos = new FileOutputStream(fileName)) {
            byte[] data = new byte[1024];
            Arrays.fill(data, (byte) 'A');
            
            for (int i = 0; i < size / 1024; i++) {
                fos.write(data);
            }
        }
    }
    
    private static void copyTraditional(String source, String dest) throws IOException {
        try (FileInputStream fis = new FileInputStream(source);
             FileOutputStream fos = new FileOutputStream(dest)) {
            
            byte[] buffer = new byte[8192];
            int bytesRead;
            
            while ((bytesRead = fis.read(buffer)) != -1) {
                fos.write(buffer, 0, bytesRead);
            }
        }
    }
    
    private static void copyNIOBuffer(String source, String dest) throws IOException {
        try (FileChannel srcChannel = FileChannel.open(Paths.get(source), StandardOpenOption.READ);
             FileChannel destChannel = FileChannel.open(Paths.get(dest), 
                     StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
            
            ByteBuffer buffer = ByteBuffer.allocateDirect(8192);
            
            while (srcChannel.read(buffer) > 0) {
                buffer.flip();
                destChannel.write(buffer);
                buffer.clear();
            }
        }
    }
    
    private static void copyNIOZeroCopy(String source, String dest) throws IOException {
        try (FileChannel srcChannel = FileChannel.open(Paths.get(source), StandardOpenOption.READ);
             FileChannel destChannel = FileChannel.open(Paths.get(dest), 
                     StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
            
            srcChannel.transferTo(0, srcChannel.size(), destChannel);
        }
    }
}
```
